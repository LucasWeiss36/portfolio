<section #boxElement class="box" id="contact">
  <div class="left">
    <div class="head">
      <h4>{{ 'contact.subtitle' | translate }}</h4>
      <h1>{{ 'contact.title' | translate }}</h1>
    </div>
    <div class="problemToSolve">
      <div>
        <span>{{ 'contact.description' | translate }}</span>
      </div>
      <h2>{{ 'contact.letsTalk' | translate }}</h2>
    </div>
  </div>
  <div class="form-and-confirmation">
    <form (ngSubmit)="onSubmit()" #contactForm="ngForm">
      <div class="dialog">
        <label for="email">{{ 'contact.email' | translate }}</label>
        <input 
          type="email" 
          id="email" 
          name="email" 
          [(ngModel)]="email" 
          (ngModelChange)="onEmailChange()"
          [class.invalid]="!isEmailValid && email.length > 0"
          placeholder="{{ 'contact.emailPlaceholder' | translate }}"
          required
        >
        <span class="error-message" *ngIf="!isEmailValid && email.length > 0">
          {{ 'contact.invalidEmail' | translate }}
        </span>
      </div>

      <div class="dialog">
        <label for="message">{{ 'contact.message' | translate }}</label>
        <textarea 
          id="message" 
          name="message" 
          [(ngModel)]="message"
          placeholder="{{ 'contact.messagePlaceholder' | translate }}"
          required
        ></textarea>
      </div>

      <div class="send">
        <button type="submit" [disabled]="!isEmailValid || message.trim().length === 0">
          {{ 'contact.send' | translate }}
        </button>
      </div>
    </form>

    <div class="success-message" *ngIf="isFormSubmitted">
      {{ 'contact.successMessage' | translate }}
    </div>
  </div>
</section>
